{"version":3,"sources":["features/api/apiSlice.ts","features/cart/cartSlice.ts","features/favourites/favouritesSlice.ts","app/store.ts","utils/localStorage.ts","components/NavLinkMain/NavLinkMain.tsx","icons/LOGO.svg","components/Logo/Logo.tsx","components/NavBar/NavBar.tsx","utils/searchHelper.ts","components/Search/Search.tsx","utils/searchIsActive.ts","utils/debounceQuery.ts","app/hooks.ts","components/Counter/Counter.tsx","components/Header/Header.tsx","components/Button/Button.tsx","components/Footer/Footer.tsx","App.tsx","images/Banner-phones.png","images/Banner-tablets.png","images/Banner-accessories.png","components/Carousel/Carousel.tsx","utils/calculateDiscount.ts","utils/isItemIncluded.ts","components/ProductCard/ProductCard.tsx","components/ProductsSlider/ProductsSlider.tsx","utils/getProductsCount.ts","components/Loader/Loader.tsx","pages/HomePage/HomePage.tsx","components/Crumbs/Crumbs.tsx","utils/getFormattedCrumb.ts","components/ProductsList/ProductsList.tsx","components/SearchLink/SearchLink.tsx","components/DropdownSelect/DropdownSelect.tsx","types/ProductType.ts","components/Pagination/Pagination.tsx","utils/getNumbers.ts","components/NoSearchResults/NoSearchResults.tsx","utils/normalizeValue.ts","utils/getTitle.ts","pages/ProductsPage/ProductsPage.tsx","components/NoResults/NoResults.tsx","utils/getCategoryName.ts","utils/getItemsPerPage.ts","components/GoBackButton/GoBackButton.tsx","pages/ProductDetailsPage/ProductDetailsPage.tsx","components/CartItem/CartItem.tsx","pages/Cart/Cart.tsx","pages/Favourites/Favourites.tsx","pages/NotFoundPage/NotFoundPage.tsx","index.tsx"],"names":["BASE_URL","apiSlice","createApi","reducerPath","baseQuery","fetchBaseQuery","baseUrl","endpoints","builder","getProducts","query","getProductDetails","productId","useGetProductsQuery","useGetProductDetailsQuery","cartSlice","createSlice","name","initialState","reducers","add","cart","action","push","id","payload","quantity","product","increaseQuantity","map","item","decreaseQuantity","remove","filter","actions","favouritesSlice","favourites","preloadedState","serializedState","localStorage","getItem","JSON","parse","loadState","store","configureStore","reducer","cartReducer","favouritesReducer","middleware","getDefaultMiddleware","concat","subscribe","throttle","state","stringify","setItem","Error","saveState","getState","NavLinkMain","type","children","props","className","isActive","classNames","Logo","to","src","LogoImg","alt","NavBar","getSearchWith","currentParams","paramsToUpdate","newParams","URLSearchParams","toString","Object","entries","forEach","key","value","delete","Array","isArray","part","append","set","Search","useSearchParams","searchParams","setSearchParams","queryParam","get","useState","setQuery","location","useLocation","currentPath","pathname","split","useEffect","useMemo","crumbs","length","some","page","includes","SearchIsActive","applyQuery","useCallback","callback","delay","timerId","args","window","clearTimeout","setTimeout","debounceQuery","placeholder","onChange","event","target","params","trim","onClick","useAppDispatch","useDispatch","useAppSelector","useSelector","Counter","count","Header","cartItemsCount","reduce","curr","favouriteItemsCount","Button","content","sign","arrowDirection","Footer","rel","href","scrollTo","App","Carousel","imagesScrolled","setImagesScrolled","transform","handleSlideRight","images","intervalId","setInterval","clearInterval","style","BannerPhone","BannerTablets","BannerAccessories","calculateDiscount","price","discount","isItemIncluded","items","itemId","ProductCard","screen","capacity","ram","imageUrl","dispatch","sellPrice","itemPath","isItemInCart","isItemInFavourites","active","addToCart","removeFavourite","addToFavourites","ProductSlider","products","itemsScrolled","setItemsScrolled","itemsCount","carouselWidth","disabled","width","getProductsCount","productType","acc","Loader","HomePage","data","isLoading","hotPriceProducts","sort","a","b","brandNewProducts","phonesCount","tabletsCount","accessoriesCount","Crumbs","crumb","index","arr","formattedCrumb","toUpperCase","slice","join","getFormattedCrumb","ProductsList","SearchLink","search","DropdownSelect","paramName","label","setIsActive","selectValue","options","React","Children","toArray","ref","useRef","handleLinkClick","document","addEventListener","current","contains","htmlFor","onMouseDown","e","preventDefault","ProductType","Pagination","total","perPage","currentPage","numberOfPages","Math","ceil","pages","from","numbers","n","getNumbers","NoSearchResults","category","normalizeValue","toLowerCase","SortValue","NoResults","ProductsPage","sortBy","title","phone","tablet","accessory","getTitle","categoryName","getCategoryName","productsByType","filteredProducts","normalizedQuery","sortedProducts","copy","age","localeCompare","totalItemsCount","itemsPerPage","maxItems","getItemsPerPage","itemsFrom","itemsTo","min","visibleItems","GoBackButton","navigate","useNavigate","ProductDetailsPage","useParams","productDetails","isFetching","productNotFound","isError","imageId","setImageId","capacityId","setCapacityId","colorId","setColorId","find","suggestedProducts","imgUrl","color","backgroundColor","addFavourite","display","screenSize","screenResolution","hardware","cpu","storage","description","flash","camera","primary","additionalFeatures","connectivity","cell","CartItem","Cart","totalPrice","Favourites","filteredItems","filteredItemsCount","NotFoundPage","ReactDOM","render","path","element","replace","getElementById"],"mappings":"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","file":"static/js/main.e8e34fc6.chunk.js","sourcesContent":["import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\nimport { Product } from '../../types/Product';\nimport { ProductDetails } from '../../types/ProductDetails';\n\nconst BASE_URL\n  = 'https://mate-academy.github.io/react_phone-catalog/api/products';\n\nexport const apiSlice = createApi({\n  reducerPath: 'api',\n  baseQuery: fetchBaseQuery({ baseUrl: '' }),\n  endpoints: (builder) => ({\n    getProducts: builder.query<Product[], void>({\n      query: () => `${BASE_URL}.json`,\n    }),\n    getProductDetails: builder.query<ProductDetails, string>({\n      query: (productId) => `${BASE_URL}/${productId}.json`,\n    }),\n  }),\n});\n\nexport const { useGetProductsQuery, useGetProductDetailsQuery } = apiSlice;\n","import { PayloadAction, createSlice } from '@reduxjs/toolkit';\nimport { Product } from '../../types/Product';\n\nexport type CartItemType = {\n  id: string;\n  quantity: number;\n  product: Product;\n};\n\ntype CartState = CartItemType[];\n\nconst initialState: CartState = [];\n\nexport const cartSlice = createSlice({\n  name: 'cart',\n  initialState,\n  reducers: {\n    add: (cart, action: PayloadAction<Product>) => {\n      cart.push({\n        id: action.payload.id,\n        quantity: 1,\n        product: action.payload,\n      });\n    },\n    increaseQuantity: (cart, action: PayloadAction<string>) => {\n      return cart.map(item => {\n        if (item.id !== action.payload) {\n          return item;\n        }\n\n        return {\n          ...item,\n          quantity: item.quantity + 1,\n        };\n      });\n    },\n    decreaseQuantity: (cart, action: PayloadAction<string>) => {\n      return cart.map(item => {\n        if (item.id !== action.payload) {\n          return item;\n        }\n\n        return {\n          ...item,\n          quantity: item.quantity - 1,\n        };\n      });\n    },\n    remove: (cart, action: PayloadAction<string>) => {\n      return cart.filter((item: { id: string; }) => item.id !== action.payload);\n    },\n  },\n});\n\nexport const {\n  add,\n  remove,\n  increaseQuantity,\n  decreaseQuantity,\n} = cartSlice.actions;\n\nexport default cartSlice.reducer;\n","import { PayloadAction, createSlice } from '@reduxjs/toolkit';\nimport { Product } from '../../types/Product';\n\ntype FavouritesState = Product[];\n\nconst initialState: FavouritesState = [];\n\nexport const favouritesSlice = createSlice({\n  name: 'favourites',\n  initialState,\n  reducers: {\n    add: (favourites, action: PayloadAction<Product>) => {\n      favourites.push(action.payload);\n    },\n    remove: (favourites, action: PayloadAction<string>) => {\n      return favourites.filter(item => item.id !== action.payload);\n    },\n  },\n});\n\nexport const { add, remove } = favouritesSlice.actions;\n\nexport default favouritesSlice.reducer;\n","/* eslint-disable import/no-cycle */\nimport { configureStore } from '@reduxjs/toolkit';\nimport { throttle } from 'lodash';\nimport { apiSlice } from '../features/api/apiSlice';\nimport cartReducer from '../features/cart/cartSlice';\nimport favouritesReducer from '../features/favourites/favouritesSlice';\nimport { loadState, saveState } from '../utils/localStorage';\n\nconst preloadedState = loadState();\n\nexport const store = configureStore({\n  reducer: {\n    cart: cartReducer,\n    favourites: favouritesReducer,\n    [apiSlice.reducerPath]: apiSlice.reducer,\n  },\n  middleware: (getDefaultMiddleware) => (\n    getDefaultMiddleware().concat(apiSlice.middleware)\n  ),\n  preloadedState,\n});\n\nstore.subscribe(throttle(() => {\n  saveState({\n    cart: store.getState().cart,\n    favourites: store.getState().favourites,\n  });\n}, 1000));\n\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;\n","/* eslint-disable import/no-cycle */\nimport { RootState } from '../app/store';\n\nexport const loadState = () => {\n  try {\n    const serializedState = localStorage.getItem('state');\n\n    if (!serializedState) {\n      return undefined;\n    }\n\n    return JSON.parse(serializedState);\n  } catch {\n    return undefined;\n  }\n};\n\ntype LocalStorageState = Omit<RootState, 'api'>;\n\nexport const saveState = (state: LocalStorageState) => {\n  try {\n    const serializedState = JSON.stringify(state);\n\n    localStorage.setItem('state', serializedState);\n  } catch {\n    throw new Error('Failed to serialize state');\n  }\n};\n","import { NavLink, NavLinkProps } from 'react-router-dom';\nimport classNames from 'classnames';\nimport './NavLinkMain.scss';\n\ntype Props = NavLinkProps & {\n  type: 'text' | 'cart' | 'favourite';\n};\n\nexport const NavLinkMain: React.FC<Props> = ({\n  type,\n  children,\n  ...props\n}) => {\n  return (\n    <NavLink\n      className={({ isActive }) => classNames(\n        'NavLinkMain',\n        { [`NavLinkMain--${type}`]: type },\n        { 'is-active': isActive },\n      )}\n      {...props}\n    >\n      {children}\n    </NavLink>\n  );\n};\n","export default __webpack_public_path__ + \"static/media/LOGO.13ce922e.svg\";","import { Link } from 'react-router-dom';\nimport LogoImg from '../../icons/LOGO.svg';\nimport './Logo.scss';\n\nexport const Logo = () => {\n  return (\n    <Link\n      to=\"/home\"\n      className=\"Logo\"\n    >\n      <img src={LogoImg} alt=\"logo\" />\n    </Link>\n  );\n};\n","import { NavLinkMain } from '../NavLinkMain/NavLinkMain';\nimport { Logo } from '../Logo/Logo';\nimport './NavBar.scss';\n\nexport const NavBar = () => {\n  return (\n    <nav className=\"NavBar\">\n      <ul className=\"NavBar__list\">\n        <li className=\"NavBar__item\">\n          <Logo />\n        </li>\n\n        <li className=\"NavBar__item\">\n          <NavLinkMain\n            type=\"text\"\n            to=\"/\"\n          >\n            Home\n          </NavLinkMain>\n        </li>\n\n        <li className=\"NavBar__item\">\n          <NavLinkMain\n            type=\"text\"\n            to=\"phones\"\n          >\n            Phones\n          </NavLinkMain>\n        </li>\n\n        <li className=\"NavBar__item\">\n          <NavLinkMain\n            type=\"text\"\n            to=\"tablets\"\n          >\n            Tablets\n          </NavLinkMain>\n        </li>\n\n        <li className=\"NavBar__item\">\n          <NavLinkMain\n            type=\"text\"\n            to=\"accessories\"\n          >\n            Accessories\n          </NavLinkMain>\n        </li>\n      </ul>\n    </nav>\n  );\n};\n","export type SearchParams = {\n  [key: string]: string | string[] | null,\n};\n\nexport const getSearchWith = (\n  currentParams: URLSearchParams,\n  paramsToUpdate: SearchParams,\n) => {\n  const newParams = new URLSearchParams(\n    currentParams.toString(),\n  );\n\n  Object.entries(paramsToUpdate)\n    .forEach(([key, value]) => {\n      if (value === null) {\n        newParams.delete(key);\n      } else if (Array.isArray(value)) {\n        newParams.delete(key);\n\n        value.forEach(part => {\n          newParams.append(key, part);\n        });\n      } else {\n        newParams.set(key, value);\n      }\n    });\n\n  return newParams.toString();\n};\n","/* eslint-disable jsx-a11y/control-has-associated-label */\nimport { useLocation, useSearchParams } from 'react-router-dom';\nimport classNames from 'classnames';\nimport {\n  ChangeEvent,\n  useCallback,\n  useEffect,\n  useMemo,\n  useState,\n} from 'react';\n\nimport { SearchIsActive } from '../../utils/searchIsActive';\nimport { debounceQuery } from '../../utils/debounceQuery';\nimport { getSearchWith } from '../../utils/searchHelper';\nimport './Search.scss';\n\nexport const Search = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const queryParam = searchParams.get('query') || '';\n  const [query, setQuery] = useState(queryParam);\n\n  const location = useLocation();\n  const currentPath = location.pathname.split('/')[1];\n\n  useEffect(() => {\n    setQuery(queryParam);\n  }, [currentPath]);\n\n  const isActive = useMemo(() => {\n    return SearchIsActive(location);\n  }, [location]);\n\n  const applyQuery = useCallback(\n    debounceQuery(setSearchParams, 700),\n    [currentPath],\n  );\n\n  const onQueryChange = (event: ChangeEvent<HTMLInputElement>) => {\n    const { value } = event.target;\n\n    setQuery(value);\n\n    const params = {\n      query: value.trim() || null,\n    };\n\n    applyQuery(\n      getSearchWith(searchParams, params),\n    );\n  };\n\n  const onClearQuery = () => {\n    setQuery('');\n\n    setSearchParams(\n      getSearchWith(searchParams, { query: null }),\n    );\n  };\n\n  return (\n    <div\n      className={classNames(\n        'Search',\n        { isActive },\n      )}\n      key={currentPath}\n    >\n      <input\n        type=\"text\"\n        value={query}\n        className={classNames(\n          'Search__input',\n          { 'has-icon': query === '' },\n        )}\n        placeholder={`Search in ${currentPath}...`}\n        onChange={onQueryChange}\n      />\n\n      <button\n        type=\"button\"\n        data-cy=\"searchDelete\"\n        className={classNames(\n          'Search__clear-button',\n          { isActive: query !== '' },\n        )}\n        onClick={onClearQuery}\n      />\n    </div>\n  );\n};\n","import { Location } from 'react-router-dom';\n\nexport const SearchIsActive = (location: Location) => {\n  const crumbs = location.pathname.split('/');\n\n  const activePages = ['phones', 'tablets', 'accessories', 'favourites'];\n\n  if (crumbs.length > 2) {\n    return false;\n  }\n\n  return activePages.some(page => {\n    return crumbs.includes(page);\n  });\n};\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nexport const debounceQuery = (\n  callback: (...args: any[]) => void,\n  delay: number,\n) => {\n  let timerId = 0;\n\n  return (...args: any[]) => {\n    window.clearTimeout(timerId);\n\n    timerId = window.setTimeout(() => {\n      callback(...args);\n    }, delay);\n  };\n};\n","import {\n  useDispatch,\n  useSelector,\n  TypedUseSelectorHook,\n} from 'react-redux';\nimport { AppDispatch, RootState } from './store';\n\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n","import classNames from 'classnames';\nimport './Counter.scss';\n\ntype Props = {\n  count: number;\n};\n\nexport const Counter: React.FC<Props> = ({ count }) => {\n  return (\n    <span\n      className={classNames(\n        'Counter',\n        { isActive: !!count },\n      )}\n    >\n      {count}\n    </span>\n  );\n};\n","import { useMemo } from 'react';\nimport { NavBar } from '../NavBar/NavBar';\nimport { NavLinkMain } from '../NavLinkMain/NavLinkMain';\nimport { Search } from '../Search/Search';\nimport { useAppSelector } from '../../app/hooks';\nimport { Counter } from '../Counter/Counter';\nimport './Header.scss';\n\nexport const Header = () => {\n  const cart = useAppSelector(state => state.cart);\n  const favourites = useAppSelector(state => state.favourites);\n\n  const cartItemsCount = useMemo(() => {\n    return cart.reduce((item, curr) => {\n      return item + curr.quantity;\n    }, 0);\n  }, [cart]);\n\n  const favouriteItemsCount = useMemo(() => {\n    return favourites.length;\n  }, [favourites]);\n\n  return (\n    <header className=\"Header\">\n      <div className=\"Header__navigation\">\n        <NavBar />\n      </div>\n\n      <div className=\"Header__actions\">\n        <Search />\n\n        <NavLinkMain\n          to=\"favourites\"\n          type=\"favourite\"\n        >\n          <Counter count={favouriteItemsCount} />\n        </NavLinkMain>\n\n        <NavLinkMain\n          to=\"cart\"\n          type=\"cart\"\n        >\n          <Counter count={cartItemsCount} />\n        </NavLinkMain>\n      </div>\n    </header>\n  );\n};\n","import { ButtonHTMLAttributes } from 'react';\nimport classNames from 'classnames';\nimport './Button.scss';\n\ntype Props = ButtonHTMLAttributes<HTMLButtonElement> & {\n  content?: 'arrow' | 'cart' | 'favourite' | 'color' |\n  'text' | 'quantity';\n  sign?: 'plus' | 'minus';\n  arrowDirection?: 'top' | 'left';\n};\n\nexport const Button: React.FC<Props> = ({\n  className = '',\n  content,\n  sign,\n  arrowDirection,\n  ...props\n}) => {\n  return (\n    <button\n      type=\"button\"\n      className={classNames(\n        'Button',\n        { [className]: className },\n        { [`Button--${content}`]: content },\n        { [`Button--quantity-${sign}`]: sign },\n        { [`Button--arrow-${arrowDirection}`]: arrowDirection },\n      )}\n      {...props}\n    />\n  );\n};\n","import { Button } from '../Button/Button';\nimport { Logo } from '../Logo/Logo';\nimport './Footer.scss';\n\nexport const Footer: React.FC = () => {\n  return (\n    <footer className=\"Footer\">\n      <div className=\"Footer__content container\">\n        <Logo />\n\n        <div className=\"Footer__info\">\n          <ul className=\"Footer__list\">\n            <li className=\"Footer__list-item\">\n              <a\n                rel=\"noreferrer\"\n                target=\"_blank\"\n                href=\"https://github.com/gabriella135/react_phone-catalog\"\n              >\n                Github\n              </a>\n            </li>\n\n            <li className=\"Footer__list-item\">\n              <a\n                href=\"mailto:gabriella.ivanjuk@gmail.com\"\n              >\n                Contacts\n              </a>\n            </li>\n\n            <li className=\"Footer__list-item\">\n              <a\n                rel=\"noreferrer\"\n                target=\"_blank\"\n                href={`https://github.com/\n                gabriella135/react_phone-catalog/blob/master/LICENSE`}\n              >\n                Rights\n              </a>\n            </li>\n          </ul>\n        </div>\n\n        <div className=\"Footer__anchor\">\n          <span className=\"Footer__anchor-text\">\n            Back to top\n          </span>\n          <Button\n            content=\"arrow\"\n            arrowDirection=\"top\"\n            onClick={() => window.scrollTo(0, 0)}\n          />\n        </div>\n      </div>\n    </footer>\n  );\n};\n","import './App.scss';\nimport { Outlet } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { store } from './app/store';\nimport { Header } from './components/Header/Header';\nimport { Footer } from './components/Footer/Footer';\n\nconst App = () => {\n  return (\n    <Provider store={store}>\n      <div className=\"App\">\n        <Header />\n\n        <main className=\"App__main\">\n          <Outlet />\n        </main>\n\n        <Footer />\n      </div>\n    </Provider>\n  );\n};\n\nexport default App;\n","export default __webpack_public_path__ + \"static/media/Banner-phones.5ac9fcba.png\";","export default __webpack_public_path__ + \"static/media/Banner-tablets.a962057c.png\";","export default __webpack_public_path__ + \"static/media/Banner-accessories.bdd2e0fc.png\";","/* eslint-disable jsx-a11y/control-has-associated-label */\nimport { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport classNames from 'classnames';\nimport './Carousel.scss';\n\nimport { Button } from '../Button/Button';\n\nimport BannerPhone from '../../images/Banner-phones.png';\nimport BannerTablets from '../../images/Banner-tablets.png';\nimport BannerAccessories from '../../images/Banner-accessories.png';\n\nexport const Carousel = () => {\n  const [imagesScrolled, setImagesScrolled] = useState(0);\n\n  const scrolledWidth = imagesScrolled * 100;\n  const transform = `translate(-${scrolledWidth}%, 0)`;\n\n  const handleSlideLeft = () => {\n    setImagesScrolled(images => {\n      if (images === 0) {\n        return 2;\n      }\n\n      return images - 1;\n    });\n  };\n\n  const handleSlideRight = () => {\n    setImagesScrolled(images => {\n      if (images === 2) {\n        return 0;\n      }\n\n      return images + 1;\n    });\n  };\n\n  useEffect(() => {\n    const intervalId = setInterval(() => {\n      handleSlideRight();\n    }, 5000);\n\n    return () => {\n      clearInterval(intervalId);\n    };\n  }, []);\n\n  return (\n    <div className=\"Carousel\">\n      <div className=\"Carousel__container\">\n        <Button\n          content=\"arrow\"\n          arrowDirection=\"left\"\n          className=\"Carousel__button\"\n          onClick={handleSlideLeft}\n        />\n\n        <div className=\"Carousel__image-container\">\n          <ul\n            className=\"Carousel__image-list\"\n            style={{ transform }}\n          >\n            <li>\n              <Link\n                to=\"/phones\"\n                className=\"Carousel__link\"\n              >\n                <img\n                  src={BannerPhone}\n                  alt=\"Phones\"\n                  className=\"Carousel__image\"\n                />\n              </Link>\n            </li>\n\n            <li>\n              <Link\n                to=\"/tablets\"\n                className=\"Carousel__link\"\n              >\n                <img\n                  src={BannerTablets}\n                  alt=\"Tablets\"\n                  className=\"Carousel__image\"\n                />\n              </Link>\n            </li>\n\n            <li>\n              <Link\n                to=\"/accessories\"\n                className=\"Carousel__link\"\n              >\n                <img\n                  src={BannerAccessories}\n                  alt=\"Accessories\"\n                  className=\"Carousel__image\"\n                />\n              </Link>\n            </li>\n          </ul>\n        </div>\n\n        <Button\n          content=\"arrow\"\n          className=\"Carousel__button\"\n          onClick={handleSlideRight}\n        />\n      </div>\n\n      <div className=\"Carousel__badges\">\n        <button\n          type=\"button\"\n          className={classNames(\n            'Carousel__badge',\n            { 'Carousel__badge--active': imagesScrolled === 0 },\n          )}\n          onClick={() => setImagesScrolled(0)}\n        />\n\n        <button\n          type=\"button\"\n          className={classNames(\n            'Carousel__badge',\n            { 'Carousel__badge--active': imagesScrolled === 1 },\n          )}\n          onClick={() => setImagesScrolled(1)}\n        />\n\n        <button\n          type=\"button\"\n          className={classNames(\n            'Carousel__badge',\n            { 'Carousel__badge--active': imagesScrolled === 2 },\n          )}\n          onClick={() => setImagesScrolled(2)}\n        />\n      </div>\n    </div>\n  );\n};\n","type Product = {\n  price: number;\n  discount: number;\n};\n\nexport const calculateDiscount = (product: Product) => {\n  const { price, discount } = product;\n\n  return price - ((price / 100) * discount);\n};\n","type Item = {\n  id: string;\n};\n\nexport const isItemIncluded = (items: Item[], itemId: string) => {\n  return items.some(item => item.id === itemId);\n};\n","import './ProductCard.scss';\nimport { Link } from 'react-router-dom';\nimport classNames from 'classnames';\nimport { Button } from '../Button/Button';\nimport { Product } from '../../types/Product';\nimport { calculateDiscount } from '../../utils/calculateDiscount';\nimport { useAppDispatch, useAppSelector } from '../../app/hooks';\nimport { add as addToCart } from '../../features/cart/cartSlice';\nimport {\n  add as addToFavourites,\n  remove as removeFavourite,\n} from '../../features/favourites/favouritesSlice';\nimport { isItemIncluded } from '../../utils/isItemIncluded';\n\ntype Props = {\n  product: Product;\n};\n\nexport const ProductCard: React.FC<Props> = ({ product }) => {\n  const {\n    id,\n    name,\n    type,\n    price,\n    discount,\n    screen,\n    capacity,\n    ram,\n    imageUrl,\n  } = product;\n\n  const cart = useAppSelector(state => state.cart);\n  const favourites = useAppSelector(state => state.favourites);\n  const dispatch = useAppDispatch();\n\n  const sellPrice = calculateDiscount(product);\n  const itemPath = `/${type}s/${id}`;\n\n  const isItemInCart = isItemIncluded(cart, id);\n\n  const isItemInFavourites = isItemIncluded(favourites, id);\n\n  const onAddToCart = () => {\n    if (isItemInCart) {\n      return;\n    }\n\n    dispatch(addToCart(product));\n  };\n\n  const onAddToFavourites = () => {\n    if (isItemInFavourites) {\n      dispatch(removeFavourite(id));\n\n      return;\n    }\n\n    dispatch(addToFavourites(product));\n  };\n\n  return (\n    <div className=\"ProductCard\">\n      <div className=\"ProductCard__content\">\n        <div className=\"ProductCard__image-container\">\n          <Link to={itemPath}>\n            <img\n              className=\"ProductCard__image\"\n              src={imageUrl}\n              alt=\"product\"\n            />\n          </Link>\n        </div>\n\n        <p className=\"ProductCard__title\">\n          <Link to={itemPath}>\n            {name}\n          </Link>\n        </p>\n\n        <div className=\"ProductCard__price\">\n          <h2 className=\"ProductCard__price-main\">\n            {`$${sellPrice}`}\n          </h2>\n\n          {!!discount && (\n            <p className=\"ProductCard__price-discount\">\n              {`$${price}`}\n            </p>\n          )}\n        </div>\n\n        <table className=\"ProductCard__specs-table\">\n          <tbody>\n            <tr>\n              <td>Screen</td>\n              <td>{screen || '-'}</td>\n            </tr>\n            <tr>\n              <td>Capacity</td>\n              <td>{capacity || '-'}</td>\n            </tr>\n            <tr>\n              <td>RAM</td>\n              <td>{ram || '-'}</td>\n            </tr>\n          </tbody>\n        </table>\n\n        <div className=\"ProductCard__buttons\">\n          <Button\n            content=\"cart\"\n            className={classNames(\n              { active: isItemInCart },\n            )}\n            onClick={onAddToCart}\n          >\n            {isItemInCart\n              ? 'Added to cart'\n              : 'Add to cart'}\n          </Button>\n\n          <Button\n            content=\"favourite\"\n            data-cy=\"addToFavorite\"\n            className={classNames(\n              { active: isItemInFavourites },\n            )}\n            onClick={onAddToFavourites}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n","import { useState } from 'react';\nimport { Product } from '../../types/Product';\nimport { Button } from '../Button/Button';\nimport { ProductCard } from '../ProductCard/ProductCard';\nimport './ProductsSlider.scss';\n\ntype Props = {\n  products: Product[];\n};\n\nexport const ProductSlider: React.FC<Props> = ({ products }) => {\n  const [itemsScrolled, setItemsScrolled] = useState(0);\n\n  const itemWidth = 272;\n  const gap = 16;\n  const itemsCount = products.length;\n  const carouselWidth = itemsCount * itemWidth + gap * (itemsCount - 1);\n\n  const scrolledWidth = itemsScrolled * itemWidth + itemsScrolled * gap;\n  const transform = `translate(-${scrolledWidth}px, 0)`;\n\n  const handleSlideLeft = () => {\n    setItemsScrolled(itemsScrolled - 4);\n  };\n\n  const handleSlideRight = () => {\n    setItemsScrolled(itemsScrolled + 4);\n  };\n\n  return (\n    <div className=\"ProductsSlider\">\n      <div className=\"ProductsSlider__slider\">\n        <div className=\"ProductsSlider__buttons\">\n          <Button\n            disabled={itemsScrolled === 0}\n            content=\"arrow\"\n            arrowDirection=\"left\"\n            onClick={handleSlideLeft}\n          />\n\n          <Button\n            disabled={itemsScrolled === itemsCount - 4}\n            content=\"arrow\"\n            onClick={handleSlideRight}\n          />\n        </div>\n\n        <div className=\"ProductsSlider__content\">\n          <ul\n            className=\"ProductsSlider__content-list\"\n            data-cy=\"cardsContainer\"\n            style={{\n              width: carouselWidth,\n              transform,\n            }}\n          >\n            {products.map(product => (\n              <li key={product.id}>\n                <ProductCard product={product} />\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n    </div>\n  );\n};\n","import { Product } from '../types/Product';\n\nexport const getProductsCount = (products: Product[], productType: string) => {\n  return products.reduce((acc, curr) => {\n    if (curr.type !== productType) {\n      return acc;\n    }\n\n    return acc + 1;\n  }, 0);\n};\n","import './Loader.scss';\n\nexport const Loader = () => (\n  <div className=\"Loader\">\n    <div className=\"Loader__content\" />\n  </div>\n);\n","import { useMemo } from 'react';\nimport { Link } from 'react-router-dom';\nimport './HomePage.scss';\nimport { Carousel } from '../../components/Carousel/Carousel';\nimport { ProductSlider } from '../../components/ProductsSlider/ProductsSlider';\n\nimport { calculateDiscount } from '../../utils/calculateDiscount';\nimport { getProductsCount } from '../../utils/getProductsCount';\nimport { useGetProductsQuery } from '../../features/api/apiSlice';\nimport { Loader } from '../../components/Loader/Loader';\n\nexport const HomePage = () => {\n  const { data: products = [], isLoading } = useGetProductsQuery();\n\n  const hotPriceProducts = useMemo(() => {\n    return products.filter(product => product.discount !== 0)\n      .sort((a, b) => calculateDiscount(a) - calculateDiscount(b));\n  }, [products]);\n\n  const brandNewProducts = useMemo(() => {\n    return products.filter(product => !product.discount)\n      .sort((a, b) => b.price - a.price);\n  }, [products]);\n\n  const phonesCount = getProductsCount(products, 'phone');\n  const tabletsCount = getProductsCount(products, 'tablet');\n  const accessoriesCount = getProductsCount(products, ' accessory');\n\n  return (\n    <div className=\"HomePage container\">\n      {isLoading && (\n        <div className=\"HomePage__loader\">\n          <Loader />\n        </div>\n      )}\n\n      {!isLoading && (\n        <>\n          <section className=\"HomePage__carousel-container\">\n            <Carousel />\n          </section>\n\n          <section className=\"section\">\n            <h1 className=\"section__title\">\n              Hot prices\n            </h1>\n\n            <ProductSlider\n              products={hotPriceProducts}\n            />\n          </section>\n\n          <section className=\"HomePage__shop-by-category section\">\n            <h1 className=\"section__title\">\n              Shop by category\n            </h1>\n\n            <ul\n              className=\"HomePage__shop-by-category-container\"\n              data-cy=\"categoryLinksContainer\"\n            >\n              <li>\n                <Link\n                  to=\"/phones\"\n                  className=\"HomePage__shop-by-category-link\"\n                >\n                  <h3>\n                    Mobile phones\n                  </h3>\n                </Link>\n\n                <p>\n                  {`${phonesCount} models`}\n                </p>\n              </li>\n\n              <li>\n                <Link\n                  to=\"/tablets\"\n                  className=\"HomePage__shop-by-category-link\"\n                >\n                  <h3>\n                    Tablets\n                  </h3>\n                </Link>\n\n                <p>\n                  {`${tabletsCount} models`}\n                </p>\n              </li>\n\n              <li>\n                <Link\n                  to=\"/accessories\"\n                  className=\"HomePage__shop-by-category-link\"\n                >\n                  <h3>\n                    Accessories\n                  </h3>\n                </Link>\n\n                <p>\n                  {`${accessoriesCount} models`}\n                </p>\n              </li>\n            </ul>\n          </section>\n\n          <section className=\"HomePage__brand-new section\">\n            <h1 className=\"section__title\">\n              Brand new models\n            </h1>\n\n            <ProductSlider\n              products={brandNewProducts}\n            />\n          </section>\n        </>\n      )}\n    </div>\n  );\n};\n","import { Link, useLocation } from 'react-router-dom';\nimport { getFormattedCrumb } from '../../utils/getFormattedCrumb';\nimport './Crumbs.scss';\n\nexport const Crumbs = () => {\n  const location = useLocation();\n\n  let currentPath = '';\n\n  const crumbs = location.pathname.split('/')\n    .filter(crumb => !!crumb)\n    .map((crumb, index, arr) => {\n      currentPath += `/${crumb}`;\n\n      const formattedCrumb = getFormattedCrumb(crumb);\n\n      return (\n        <li\n          key={crumb}\n          className=\"Crumbs__item\"\n        >\n          {index !== arr.length - 1\n            ? (\n              <Link to={currentPath}>\n                {formattedCrumb}\n              </Link>\n            )\n            : formattedCrumb}\n        </li>\n      );\n    });\n\n  return (\n    <div className=\"Crumbs\" data-cy=\"crumbs\">\n      <ul className=\"Crumbs__list\">\n        <li>\n          <Link\n            to=\"/home\"\n            className=\"Crumbs__home-link\"\n          />\n        </li>\n        {crumbs}\n      </ul>\n    </div>\n  );\n};\n","export const getFormattedCrumb = (crumb: string) => {\n  const formattedCrumb = crumb.split('-')\n    .map(part => part[0].toUpperCase() + part.slice(1))\n    .join(' ');\n\n  return formattedCrumb;\n};\n","import { Product } from '../../types/Product';\nimport { ProductCard } from '../ProductCard/ProductCard';\nimport './ProductsList.scss';\n\ntype Props = {\n  items: Product[];\n};\n\nexport const ProductsList: React.FC<Props> = ({ items }) => {\n  return (\n    <div\n      className=\"ProductsList\"\n      data-cy=\"productList\"\n    >\n      <ul className=\"ProductsList__list\">\n        {items.map((item) => (\n          <li\n            key={item.id}\n            className=\"ProductsList__item\"\n          >\n            <ProductCard product={item} />\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n","import { Link, LinkProps, useSearchParams } from 'react-router-dom';\nimport { getSearchWith, SearchParams } from '../../utils/searchHelper';\n\ntype Props = Omit<LinkProps, 'to'> & {\n  params: SearchParams,\n};\n\nexport const SearchLink: React.FC<Props> = ({\n  children,\n  params,\n  ...props\n}) => {\n  const [searchParams] = useSearchParams();\n\n  return (\n    <Link\n      to={{\n        search: getSearchWith(searchParams, params),\n      }}\n      {...props}\n    >\n      {children}\n    </Link>\n  );\n};\n","import React, {\n  useState,\n  useEffect,\n  useRef,\n  MutableRefObject,\n} from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport classNames from 'classnames';\nimport { SearchLink } from '../SearchLink/SearchLink';\nimport { getSearchWith } from '../../utils/searchHelper';\nimport './DropdownSelect.scss';\n\ntype Props = {\n  paramName: string;\n  label: string;\n};\n\ntype Option = {\n  props: {\n    value: string,\n    children: string,\n  }\n};\n\nexport const DropdownSelect: React.FC<Props> = ({\n  children,\n  paramName,\n  label,\n}) => {\n  const [isActive, setIsActive] = useState(false);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const selectValue = searchParams.get(paramName) || '';\n\n  const options = React.Children.toArray(children) as Option[];\n\n  const ref = useRef<HTMLDivElement>() as MutableRefObject<HTMLDivElement>;\n\n  const handleSetValue = (event: React.ChangeEvent<HTMLSelectElement>) => {\n    const params = {\n      [paramName]: event.target.value,\n    };\n\n    setSearchParams(\n      getSearchWith(searchParams, params),\n    );\n  };\n\n  const handleToggleDropdown = (e: React.MouseEvent) => {\n    e.preventDefault();\n\n    setIsActive(active => !active);\n  };\n\n  const handleLinkClick = () => {\n    setIsActive(false);\n  };\n\n  useEffect(() => {\n    if (!isActive) {\n      return;\n    }\n\n    const handleDocumentClick = (event: MouseEvent) => {\n      if (!ref.current.contains(event.target as Node)) {\n        setIsActive(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleDocumentClick);\n  }, [isActive]);\n\n  return (\n    <div\n      ref={ref}\n      className={classNames(\n        'DropdownSelect',\n        { 'is-active': isActive },\n      )}\n    >\n      <label\n        htmlFor={paramName}\n        className=\"DropdownSelect__label\"\n      >\n        {label}\n        <select\n          name={paramName}\n          id={paramName}\n          className=\"DropdownSelect__select\"\n          value={selectValue}\n          onChange={handleSetValue}\n          onMouseDown={handleToggleDropdown}\n        >\n          {children}\n        </select>\n\n        <ul>\n          {options.map(({ props }) => (\n            <li key={props.value}>\n              <SearchLink\n                params={{ [paramName]: props.value, page: '1' }}\n                onClick={handleLinkClick}\n              >\n                {props.children}\n              </SearchLink>\n            </li>\n          ))}\n        </ul>\n      </label>\n    </div>\n  );\n};\n","export enum ProductType {\n  phone = 'phone',\n  tablet = 'tablet',\n  accessory = 'accessory',\n}\n","import classNames from 'classnames';\nimport { getNumbers } from '../../utils/getNumbers';\nimport { SearchLink } from '../SearchLink/SearchLink';\nimport './Pagination.scss';\n\ntype Props = {\n  total: number;\n  perPage: number;\n  currentPage: number;\n};\n\nexport const Pagination: React.FC<Props> = ({\n  total,\n  perPage,\n  currentPage,\n}) => {\n  const numberOfPages = Math.ceil(total / perPage);\n  const pages = getNumbers(1, numberOfPages);\n\n  return (\n    <ul\n      className=\"Pagination\"\n      data-cy=\"pagination\"\n    >\n      <li className={classNames(\n        'Pagination__item',\n        { disabled: currentPage === 1 },\n      )}\n      >\n        <SearchLink\n          data-cy=\"paginationLeft\"\n          className=\"Pagination__link Pagination__link--prev\"\n          params={{ page: `${currentPage - 1}` }}\n        />\n      </li>\n      {pages.map(page => (\n        <li\n          key={page}\n          className={classNames(\n            'Pagination__item',\n            { active: currentPage === page },\n          )}\n        >\n          <SearchLink\n            className=\"Pagination__link\"\n            params={{ page: `${page}` }}\n          >\n            {page}\n          </SearchLink>\n        </li>\n      ))}\n      <li className={classNames(\n        'Pagination__item',\n        { disabled: currentPage === numberOfPages },\n      )}\n      >\n        <SearchLink\n          data-cy=\"paginationRight\"\n          className=\"Pagination__link Pagination__link--next\"\n          params={{ page: `${currentPage + 1}` }}\n        />\n      </li>\n    </ul>\n  );\n};\n","export function getNumbers(from: number, to: number): number[] {\n  const numbers = [];\n\n  for (let n = from; n <= to; n += 1) {\n    numbers.push(n);\n  }\n\n  return numbers;\n}\n","import './NoSearchResults.scss';\n\ntype Props = {\n  category: string;\n};\n\nexport const NoSearchResults: React.FC<Props> = ({ category }) => {\n  return (\n    <div className=\"NoSearchResults\">\n      <h2>\n        {`No ${category} matching the query found`}\n      </h2>\n    </div>\n  );\n};\n","export const normalizeValue = (value: string) => {\n  return value.trim().toLowerCase();\n};\n","import { ProductType } from '../types/ProductType';\n\nexport const getTitle = (type: ProductType) => {\n  switch (type) {\n    case ProductType.phone:\n      return 'Mobile phones';\n\n    case ProductType.tablet:\n      return 'Tablets';\n\n    case ProductType.accessory:\n      return 'Accessories';\n\n    default:\n      return '';\n  }\n};\n","import { useMemo } from 'react';\nimport classNames from 'classnames';\nimport { useSearchParams } from 'react-router-dom';\n\nimport './ProductsPage.scss';\nimport { ProductType } from '../../types/ProductType';\n\nimport { Crumbs } from '../../components/Crumbs/Crumbs';\nimport { ProductsList } from '../../components/ProductsList/ProductsList';\nimport { DropdownSelect } from '../../components/DropdownSelect/DropdownSelect';\nimport { Pagination }\n  from '../../components/Pagination/Pagination';\nimport { NoSearchResults } from\n  '../../components/NoSearchResults/NoSearchResults';\n\nimport { getItemsPerPage } from '../../utils/getItemsPerPage';\nimport { calculateDiscount } from '../../utils/calculateDiscount';\nimport { normalizeValue } from '../../utils/normalizeValue';\nimport { getTitle } from '../../utils/getTitle';\nimport { NoResults } from '../../components/NoResults/NoResults';\nimport { getCategoryName } from '../../utils/getCategoryName';\nimport { useGetProductsQuery } from '../../features/api/apiSlice';\nimport { Loader } from '../../components/Loader/Loader';\n\nenum SortValue {\n  age = 'age',\n  name = 'name',\n  price = 'price',\n}\n\ntype Props = {\n  productType: ProductType;\n};\n\nexport const ProductsPage: React.FC<Props> = ({ productType }) => {\n  const { data: products = [], isLoading } = useGetProductsQuery();\n  const [searchParams] = useSearchParams();\n\n  const sortBy = searchParams.get('sort') || '';\n  const perPage = searchParams.get('perPage') || '';\n  const currentPage = +(searchParams.get('page') || '') || 1;\n  const query = searchParams.get('query') || '';\n\n  const title = getTitle(productType);\n  const categoryName = getCategoryName(productType);\n\n  const productsByType = useMemo(() => {\n    return products.filter(product => product.type === productType);\n  }, [products, productType]);\n\n  const filteredProducts = useMemo(() => {\n    return productsByType.filter(product => {\n      const normalizedQuery = normalizeValue(query);\n      const normalizedName = normalizeValue(product.name);\n\n      return normalizedName.includes(normalizedQuery);\n    });\n  }, [productsByType, query]);\n\n  const sortedProducts = useMemo(() => {\n    const copy = [...filteredProducts];\n\n    switch (sortBy) {\n      case SortValue.age:\n        return copy.sort((a, b) => a.age - b.age);\n\n      case SortValue.name:\n        return copy.sort((a, b) => a.name.localeCompare(b.name));\n\n      case SortValue.price:\n        return copy\n          .sort((a, b) => calculateDiscount(a) - calculateDiscount(b));\n\n      default:\n        return filteredProducts;\n    }\n  }, [sortBy, filteredProducts]);\n\n  const totalItemsCount = sortedProducts.length;\n  const itemsPerPage = getItemsPerPage(perPage, totalItemsCount);\n\n  const itemsFrom = itemsPerPage * currentPage - (itemsPerPage - 1);\n  const itemsTo = Math.min(itemsPerPage * currentPage, totalItemsCount);\n\n  const visibleItems = useMemo(() => {\n    return sortedProducts.slice(itemsFrom - 1, itemsTo);\n  }, [sortBy, itemsFrom, itemsTo, sortedProducts]);\n\n  return (\n    <div className=\"ProductsPage container\">\n      <div className=\"ProductsPage__crumbs\">\n        <Crumbs />\n      </div>\n\n      <div className=\"ProductsPage__title\">\n        <h1>{title}</h1>\n        <p>\n          {`${totalItemsCount} models`}\n        </p>\n      </div>\n\n      <div className={classNames(\n        'ProductsPage__actions',\n        { disabled: !totalItemsCount },\n      )}\n      >\n        <DropdownSelect\n          paramName=\"sort\"\n          label=\"Sort by\"\n        >\n          <option value=\"age\">Newest</option>\n          <option value=\"name\">Alphabetically</option>\n          <option value=\"price\">Cheapest</option>\n        </DropdownSelect>\n\n        <DropdownSelect\n          paramName=\"perPage\"\n          label=\"Items on page\"\n        >\n          <option value=\"all\">All</option>\n          <option value=\"4\">4</option>\n          <option value=\"8\">8</option>\n          <option value=\"16\">16</option>\n        </DropdownSelect>\n      </div>\n\n      {!totalItemsCount && query && (\n        <NoSearchResults category={categoryName} />\n      )}\n\n      {!totalItemsCount && !query && !isLoading && (\n        <NoResults category={categoryName} />\n      )}\n\n      {isLoading && <Loader />}\n\n      {!!totalItemsCount && !isLoading && (\n        <section>\n          <div className=\"ProductsPage__product-list\">\n            <ProductsList items={visibleItems} />\n          </div>\n\n          {totalItemsCount > 3 && (\n            <Pagination\n              total={totalItemsCount}\n              perPage={itemsPerPage}\n              currentPage={currentPage}\n            />\n          )}\n        </section>\n      )}\n    </div>\n  );\n};\n","import './NoResults.scss';\n\ntype Props = {\n  category: string;\n};\n\nexport const NoResults: React.FC<Props> = ({ category }) => {\n  const product = category[0].toUpperCase() + category.slice(1);\n\n  return (\n    <div className=\"NoResults\">\n      <h2>\n        {`${product} not found`}\n      </h2>\n    </div>\n  );\n};\n","import { ProductType } from '../types/ProductType';\n\nexport const getCategoryName = (type: ProductType) => {\n  switch (type) {\n    case ProductType.phone:\n      return 'phones';\n\n    case ProductType.tablet:\n      return 'tablets';\n\n    case ProductType.accessory:\n      return 'accessories';\n\n    default:\n      return '';\n  }\n};\n","export const getItemsPerPage = (value: string, maxItems: number) => {\n  switch (value) {\n    case 'all':\n      return maxItems;\n\n    case '4':\n      return 4;\n\n    case '16':\n      return 16;\n\n    case '8':\n    case '':\n    default:\n      return 8;\n  }\n};\n","import { useNavigate } from 'react-router-dom';\nimport './GoBackButton.scss';\n\nexport const GoBackButton = () => {\n  const navigate = useNavigate();\n\n  return (\n    <button\n      data-cy=\"backButton\"\n      type=\"button\"\n      className=\"GoBackButton\"\n      onClick={() => navigate(-1)}\n    >\n      Back\n    </button>\n  );\n};\n","import {\n  useState,\n  useEffect,\n  useMemo,\n} from 'react';\nimport { useParams } from 'react-router-dom';\nimport classNames from 'classnames';\nimport { Loader } from '../../components/Loader/Loader';\nimport { Button } from '../../components/Button/Button';\nimport { Product } from '../../types/Product';\nimport { calculateDiscount } from '../../utils/calculateDiscount';\nimport { ProductSlider } from '../../components/ProductsSlider/ProductsSlider';\nimport { Crumbs } from '../../components/Crumbs/Crumbs';\nimport { GoBackButton } from '../../components/GoBackButton/GoBackButton';\nimport { isItemIncluded } from '../../utils/isItemIncluded';\nimport { useAppDispatch, useAppSelector } from '../../app/hooks';\nimport { add as addToCart } from '../../features/cart/cartSlice';\nimport {\n  add as addFavourite,\n  remove as removeFavourite,\n} from '../../features/favourites/favouritesSlice';\nimport {\n  useGetProductDetailsQuery, useGetProductsQuery,\n} from '../../features/api/apiSlice';\nimport './ProductDetailsPage.scss';\n\nexport const ProductDetailsPage = () => {\n  const { data: products = [] } = useGetProductsQuery();\n  const { productId = '' } = useParams();\n  const {\n    data: productDetails,\n    isLoading,\n    isFetching,\n    isError: productNotFound,\n  } = useGetProductDetailsQuery(productId);\n\n  const [imageId, setImageId] = useState(0);\n  const [capacityId, setCapacityId] = useState(0);\n  const [colorId, setColorId] = useState(0);\n\n  const capacities = ['64 GB', '256GB', '512GB'];\n  const colors = ['#fcdbc1', '#5f7170', '#4c4c4c', '#f0f0f0'];\n\n  const cart = useAppSelector(state => state.cart);\n  const favourites = useAppSelector(state => state.favourites);\n  const dispatch = useAppDispatch();\n\n  const isItemInCart = isItemIncluded(cart, productId);\n  const isItemInFavourites = isItemIncluded(favourites, productId);\n\n  const product = useMemo(() => {\n    return products.find(item => item.id === productId);\n  }, [products]) as Product;\n\n  const sellPrice = useMemo(() => {\n    if (product) {\n      return calculateDiscount(product);\n    }\n\n    return 0;\n  }, [product]);\n\n  const suggestedProducts = useMemo(() => {\n    return products.slice(4, 16);\n  }, [products]);\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [productId]);\n\n  const onAddToCart = () => {\n    if (isItemInCart) {\n      return;\n    }\n\n    dispatch(addToCart(product));\n  };\n\n  const onAddToFavourites = () => {\n    if (isItemInFavourites) {\n      dispatch(removeFavourite(product.id));\n\n      return;\n    }\n\n    dispatch(addFavourite(product));\n  };\n\n  return (\n    <div className=\"ProductDetailsPage container\">\n      <div className=\"ProductDetailsPage__crumbs\">\n        <Crumbs />\n      </div>\n\n      <div className=\"ProductDetailsPage__return\">\n        <GoBackButton />\n      </div>\n\n      {productNotFound && (\n        <h1 className=\"ProductDetailsPage__not-found\">\n          Product was not found\n        </h1>\n      )}\n\n      {(isLoading || isFetching) && (\n        <div className=\"ProductDetailsPage__loader\">\n          <Loader />\n        </div>\n      )}\n\n      {!isLoading && !isFetching && !productNotFound && (\n        <>\n          <div className=\"ProductDetailsPage__content\">\n            <section className=\"ProductDetailsPage__main-content grid section\">\n              <h1 className=\"ProductDetailsPage__title\">\n                {productDetails?.name}\n              </h1>\n\n              <aside className=\"ProductDetailsPage__thumbnails\">\n                <ul>\n                  {productDetails?.images.map((imgUrl, index) => (\n                    <li key={imgUrl}>\n                      <button\n                        type=\"button\"\n                        onClick={() => setImageId(index)}\n                        className={classNames(\n                          'ProductDetailsPage__thumbnail-button',\n                          { active: imageId === index },\n                        )}\n                      >\n                        <img\n                          src={imgUrl}\n                          alt=\"thumbnail\"\n                          className=\"ProductDetailsPage__thumbnail\"\n                        />\n                      </button>\n                    </li>\n                  ))}\n                </ul>\n              </aside>\n\n              <div className=\"ProductDetailsPage__image-main\">\n                <img\n                  src={productDetails?.images[imageId]}\n                  alt=\"product\"\n                />\n              </div>\n\n              <div className=\"ProductDetailsPage__actions\">\n                <div className=\"ProductDetailsPage__selectors\">\n                  <p>\n                    Available colors\n                  </p>\n\n                  <ul>\n                    {colors.map((color, index) => (\n                      <li key={color}>\n                        <Button\n                          content=\"color\"\n                          className={classNames(\n                            { active: colorId === 0 },\n                          )}\n                          onClick={() => setColorId(index)}\n                        >\n                          <span style={{ backgroundColor: color }} />\n                        </Button>\n                      </li>\n                    ))}\n                  </ul>\n                </div>\n\n                <div className=\"ProductDetailsPage__selectors\">\n                  <p>\n                    Select capacity\n                  </p>\n\n                  <ul>\n                    {capacities.map((capacity, index) => (\n                      <li key={capacity}>\n                        <Button\n                          content=\"text\"\n                          className={classNames(\n                            { active: capacityId === 0 },\n                          )}\n                          onClick={() => setCapacityId(index)}\n                        >\n                          {capacity}\n                        </Button>\n                      </li>\n                    ))}\n                  </ul>\n                </div>\n\n                <div className=\"ProductDetailsPage__actions-container\">\n                  <div className=\"ProductDetailsPage__price\">\n                    <h2 className=\"ProductDetailsPage__price-sell\">\n                      {`$${sellPrice}`}\n                    </h2>\n\n                    {!!product?.discount && (\n                      <p className=\"ProductDetailsPage__price-full\">\n                        {`$${product.price}`}\n                      </p>\n                    )}\n                  </div>\n\n                  <div className=\"ProductDetailsPage__buttons\">\n                    <Button\n                      content=\"cart\"\n                      className={classNames(\n                        'ProductDetailsPage__button-cart',\n                        { active: isItemInCart },\n                      )}\n                      onClick={onAddToCart}\n                    >\n                      {isItemInCart\n                        ? 'Added to cart'\n                        : 'Add to cart'}\n                    </Button>\n\n                    <Button\n                      content=\"favourite\"\n                      data-cy=\"addToFavorite\"\n                      className={classNames(\n                        'ProductDetailsPage__button-favourite',\n                        { active: isItemInFavourites },\n                      )}\n                      onClick={onAddToFavourites}\n                    />\n                  </div>\n                </div>\n\n                <div className=\"ProductDetailsPage__specs-small\">\n                  <table className=\"ProductDetailsPage__specs-table\">\n                    <tbody>\n                      <tr>\n                        <td>Screen</td>\n                        <td>\n                          {productDetails?.display.screenSize || '-' }\n                        </td>\n                      </tr>\n\n                      <tr>\n                        <td>Resolution</td>\n                        <td>\n                          {productDetails?.display.screenResolution || '-'}\n                        </td>\n                      </tr>\n\n                      <tr>\n                        <td>Processor</td>\n                        <td>\n                          {productDetails?.hardware.cpu || '-'}\n                        </td>\n                      </tr>\n\n                      <tr>\n                        <td>RAM</td>\n                        <td>\n                          {productDetails?.storage.ram || '-'}\n                        </td>\n                      </tr>\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n            </section>\n\n            <div className=\"ProductDetailsPage__details grid section\">\n              <section\n                className=\"ProductDetailsPage__about\"\n                data-cy=\"productDescription\"\n              >\n                <p className=\"ProductDetailsPage__about-subtitle\">\n                  About\n                </p>\n\n                <p className=\"ProductDetailsPage__about-description\">\n                  {productDetails?.description}\n                </p>\n              </section>\n\n              <section className=\"ProductDetailsPage__techspecs\">\n                <p className=\"ProductDetailsPage__about-subtitle\">\n                  Tech specs\n                </p>\n                <table className=\"ProductDetailsPage__techspecs-table\">\n                  <tbody>\n                    <tr>\n                      <td>Screen</td>\n                      <td>\n                        {productDetails?.display.screenSize || '-' }\n                      </td>\n                    </tr>\n\n                    <tr>\n                      <td>Resolution</td>\n                      <td>\n                        {productDetails?.display.screenResolution || '-'}\n                      </td>\n                    </tr>\n\n                    <tr>\n                      <td>Processor</td>\n                      <td>\n                        {productDetails?.hardware.cpu || '-'}\n                      </td>\n                    </tr>\n\n                    <tr>\n                      <td>RAM</td>\n                      <td>\n                        {productDetails?.storage.ram || '-'}\n                      </td>\n                    </tr>\n\n                    <tr>\n                      <td>Built in memory</td>\n                      <td>\n                        {productDetails?.storage.flash || '-'}\n                      </td>\n                    </tr>\n\n                    <tr>\n                      <td>Camera</td>\n                      <td>\n                        {productDetails?.camera.primary || '-'}\n                      </td>\n                    </tr>\n\n                    <tr>\n                      <td>Additional Features</td>\n                      <td>\n                        {productDetails?.additionalFeatures || '-'}\n                      </td>\n                    </tr>\n\n                    <tr>\n                      <td>Cell</td>\n                      <td>\n                        {productDetails?.connectivity.cell || '-'}\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n              </section>\n            </div>\n          </div>\n\n          <div className=\"ProductDetailsPage__suggested\">\n            <h2>\n              You may also like\n            </h2>\n\n            <ProductSlider products={suggestedProducts} />\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n","/* eslint-disable jsx-a11y/control-has-associated-label */\nimport { useAppDispatch } from '../../app/hooks';\nimport {\n  CartItemType,\n  decreaseQuantity,\n  increaseQuantity,\n  remove,\n} from '../../features/cart/cartSlice';\nimport { calculateDiscount } from '../../utils/calculateDiscount';\nimport { Button } from '../Button/Button';\nimport './CartItem.scss';\n\ntype Props = {\n  item: CartItemType;\n};\n\nexport const CartItem: React.FC<Props> = ({ item }) => {\n  const dispatch = useAppDispatch();\n\n  const { id, imageUrl, name } = item.product;\n\n  return (\n    <div className=\"CartItem\">\n      <button\n        className=\"CartItem__delete\"\n        type=\"button\"\n        data-cy=\"cartDeleteButton\"\n        onClick={() => dispatch(remove(id))}\n      />\n\n      <div className=\"CartItem__image\">\n        <img\n          src={imageUrl}\n          alt={name}\n        />\n      </div>\n\n      <div className=\"CartItem__title\">\n        {name}\n      </div>\n\n      <div className=\"CartItem__quantity\">\n        <Button\n          content=\"quantity\"\n          sign=\"minus\"\n          disabled={item.quantity === 1}\n          onClick={() => dispatch(decreaseQuantity(id))}\n        />\n\n        <span\n          data-cy=\"productQuantity\"\n        >\n          {item.quantity}\n        </span>\n\n        <Button\n          content=\"quantity\"\n          sign=\"plus\"\n          onClick={() => dispatch(increaseQuantity(id))}\n        />\n      </div>\n\n      <div className=\"CartItem__price\">\n        <h2>\n          {`$${calculateDiscount(item.product)}`}\n        </h2>\n      </div>\n    </div>\n  );\n};\n","import { useState, useMemo } from 'react';\nimport classNames from 'classnames';\nimport './Cart.scss';\nimport { Button } from '../../components/Button/Button';\nimport { GoBackButton } from '../../components/GoBackButton/GoBackButton';\nimport { calculateDiscount } from '../../utils/calculateDiscount';\nimport { Crumbs } from '../../components/Crumbs/Crumbs';\nimport { useAppSelector } from '../../app/hooks';\nimport { CartItem } from '../../components/CartItem/CartItem';\nimport { Product } from '../../types/Product';\n\nexport const Cart = () => {\n  const cart = useAppSelector(state => state.cart);\n  const [isActive, setIsActive] = useState(false);\n\n  const totalPrice = useMemo(() => {\n    return cart.reduce(\n      (acc: number, curr:\n      { product: { price: number; discount: number; };\n        quantity: number;\n      }) => {\n        return acc\n      + (calculateDiscount(curr.product) * curr.quantity);\n      }, 0,\n    );\n  }, [cart]);\n\n  const handleCheckout = () => {\n    setIsActive(true);\n\n    setTimeout(() => {\n      setIsActive(false);\n    }, 3000);\n  };\n\n  return (\n    <div className=\"Cart container\">\n      <div className=\"Cart__crumbs\">\n        <Crumbs />\n      </div>\n\n      <div className=\"Cart__return\">\n        <GoBackButton />\n      </div>\n\n      <div className=\"Cart__title\">\n        <h1>Cart</h1>\n      </div>\n\n      <div className={classNames(\n        'Cart__checkout-message',\n        { active: isActive },\n      )}\n      >\n        <h2>\n          We are sorry, but this feature is not implemented yet\n        </h2>\n      </div>\n\n      {!cart.length\n        ? (\n          <h2 className=\"Cart__no-items-message\">\n            Your cart is empty\n          </h2>\n        )\n        : (\n          <div className=\"Cart__content grid\">\n            <div className=\"Cart__products\">\n              <ul className=\"Cart__products-list\">\n                {cart.map(\n                  (item: {\n                    id: string;\n                    quantity: number;\n                    product: Product;\n                  }) => (\n                    <li key={item.id}>\n                      <CartItem item={item} />\n                    </li>\n                  ),\n                )}\n              </ul>\n            </div>\n\n            <div className=\"Cart__checkout\">\n              <h2>{`$${totalPrice}`}</h2>\n\n              <p>\n                {`Total for ${cart.length} items`}\n              </p>\n\n              <Button\n                content=\"cart\"\n                onClick={handleCheckout}\n                disabled={isActive}\n              >\n                Checkout\n              </Button>\n            </div>\n          </div>\n        )}\n    </div>\n  );\n};\n","import { useMemo } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport './Favourites.scss';\nimport { Crumbs } from '../../components/Crumbs/Crumbs';\nimport { ProductsList } from '../../components/ProductsList/ProductsList';\nimport { normalizeValue } from '../../utils/normalizeValue';\nimport { NoSearchResults }\n  from '../../components/NoSearchResults/NoSearchResults';\nimport { GoBackButton } from '../../components/GoBackButton/GoBackButton';\nimport { useAppSelector } from '../../app/hooks';\n\nexport const Favourites = () => {\n  const favourites = useAppSelector(state => state.favourites);\n  const [searchParams] = useSearchParams();\n  const query = searchParams.get('query') || '';\n\n  const filteredItems = useMemo(() => {\n    return favourites.filter(item => {\n      const normalizedQuery = normalizeValue(query);\n      const normalizedName = normalizeValue(item.name);\n\n      return normalizedName.includes(normalizedQuery);\n    });\n  }, [favourites, query]);\n\n  const filteredItemsCount = filteredItems.length;\n\n  const itemsCount = `${filteredItemsCount} item ${\n    filteredItemsCount === 1 ? '' : 's'\n  }`;\n\n  return (\n    <div className=\"Favourites container\">\n      <div className=\"Favourites__crumbs\">\n        <Crumbs />\n      </div>\n\n      <div className=\"Favourites__return\">\n        <GoBackButton />\n      </div>\n\n      <div className=\"Favourites__title\">\n        <h1>Favourites</h1>\n      </div>\n\n      <div className=\"Favourites__items-count\">\n        <p>\n          {!!filteredItemsCount && itemsCount}\n        </p>\n      </div>\n\n      {!filteredItems.length && query && (\n        <NoSearchResults category=\"favourites\" />\n      )}\n\n      {!favourites.length && !query\n        ? (\n          <h2 className=\"Favourites__no-items-message\">\n            No favourites items\n          </h2>\n        )\n        : <ProductsList items={filteredItems} />}\n    </div>\n  );\n};\n","import { GoBackButton } from '../../components/GoBackButton/GoBackButton';\nimport './NotFoundPage.scss';\n\nexport const NotFoundPage = () => {\n  return (\n    <div className=\"NotFoundPage\">\n      <div className=\"NotFoundPage__back\">\n        <GoBackButton />\n      </div>\n\n      <div className=\"NotFoundPage__title\">\n        <h1>\n          Page not found...\n        </h1>\n      </div>\n    </div>\n  );\n};\n","import ReactDOM from 'react-dom';\nimport {\n  Navigate,\n  Route,\n  HashRouter as Router,\n  Routes,\n} from 'react-router-dom';\n\nimport App from './App';\nimport { HomePage } from './pages/HomePage/HomePage';\nimport { ProductsPage } from './pages/ProductsPage/ProductsPage';\nimport { ProductDetailsPage }\n  from './pages/ProductDetailsPage/ProductDetailsPage';\nimport { Cart } from './pages/Cart/Cart';\nimport { Favourites } from './pages/Favourites/Favourites';\nimport { NotFoundPage } from './pages/NotFoundPage/NotFoundPage';\nimport { ProductType } from './types/ProductType';\n\nReactDOM.render(\n  <Router>\n    <Routes>\n      <Route path=\"/\" element={<App />}>\n        <Route index element={<HomePage />} />\n        <Route\n          path=\"home\"\n          element={<Navigate to=\"/\" replace />}\n        />\n\n        <Route path=\"phones\">\n          <Route\n            index\n            element={<ProductsPage productType={ProductType.phone} />}\n          />\n          <Route path=\":productId\" element={<ProductDetailsPage />} />\n        </Route>\n\n        <Route path=\"tablets\">\n          <Route\n            index\n            element={<ProductsPage productType={ProductType.tablet} />}\n          />\n          <Route path=\":productId\" element={<ProductDetailsPage />} />\n        </Route>\n\n        <Route path=\"accessories\">\n          <Route\n            index\n            element={<ProductsPage productType={ProductType.accessory} />}\n          />\n          <Route path=\":productId\" element={<ProductDetailsPage />} />\n        </Route>\n\n        <Route path=\"cart\" element={<Cart />} />\n        <Route path=\"favourites\" element={<Favourites />} />\n        <Route path=\"*\" element={<NotFoundPage />} />\n      </Route>\n    </Routes>\n  </Router>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}